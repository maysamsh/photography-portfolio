(r=>{var e,n=r(window),o=r("body"),t=(r("#wrapper"),breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:[null,"480px"]}),"ie"==browser.name&&o.addClass("ie"),browser.mobile&&o.addClass("touch"),browser.canUse("transition")&&(n.on("load",function(){window.setTimeout(function(){o.removeClass("is-preload")},100)}),n.on("resize",function(){window.clearTimeout(e),o.addClass("is-resizing"),e=window.setTimeout(function(){o.removeClass("is-resizing")},100)})),n.scrollTop(0),r(".panel")),a=(t.each(function(){var n=r(this),e=r('[href="#'+n.attr("id")+'"]');r('<div class="closer" />').appendTo(n).on("click",function(e){n.trigger("---hide")}),n.on("click",function(e){e.stopPropagation()}).on("---toggle",function(){n.hasClass("active")?n.triggerHandler("---hide"):n.triggerHandler("---show")}).on("---show",function(){o.hasClass("content-active")&&t.trigger("---hide"),n.addClass("active"),e.addClass("active"),o.addClass("content-active")}).on("---hide",function(){n.removeClass("active"),e.removeClass("active"),o.removeClass("content-active")}),e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),n.trigger("---toggle")})}),o.on("click",function(e){o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),t.trigger("---hide"))}),n.on("keyup",function(e){27==e.keyCode&&o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),t.trigger("---hide"))}),r("#header").find("a").each(function(){var e=r(this),n=e.attr("href");n&&"#"!=n.charAt(0)&&e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=n})}),r("#footer").find(".copyright").each(function(){var e=r(this),n=e.parent(),o=n.parent().children().last();breakpoints.on("<=medium",function(){e.appendTo(o)}),breakpoints.on(">medium",function(){e.appendTo(n)})}),r("#main")),i={};function s(e){var n,o=r("#main").data("exif"),t="";for(n in o){var a=o[n],i=EXIF.getTag(e,a.tag);void 0!==i&&(i=((e,n)=>{if("DateTimeOriginal"===e)try{var o=n.split(" ")[0].split(":");if(3===o.length){var t=o[0],a=parseInt(o[1],10)-1,i=parseInt(o[2],10);if(0<=a&&a<12)return i+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][a]+" "+t}}catch(e){}return n})(a.tag,i),t+='<i class="'+a.icon+'" aria-hidden="true"></i> '+i+"&nbsp;&nbsp;")}return t}a.children(".thumb").each(function(){var e,n=r(this).find(".image"),o=n.children("img");0!=n.length&&(n.css("background-image","url("+o.attr("src")+")"),(e=o.data("position"))&&n.css("background-position",e),o.hide(),o[0].addEventListener("load",function(){EXIF.getData(o[0],function(){i[o.data("name")]=s(this)})}))}),a.poptrox({baseZIndex:2e4,caption:function(e){var n=e.children("img"),o=i[n.data("name")];return void 0===o&&EXIF.getData(n[0],function(){o=i[n.data("name")]=s(this)}),void 0!==o?"<p>"+o+"</p>":" "},fadeSpeed:300,onPopupClose:function(){o.removeClass("modal-active")},onPopupOpen:function(){o.addClass("modal-active")},overlayOpacity:0,popupCloserText:"",popupHeight:150,popupLoaderText:"",popupSpeed:300,popupWidth:150,selector:".thumb > a.image",usePopupCaption:!0,usePopupCloser:!0,usePopupDefaultStyling:!1,usePopupForceClose:!0,usePopupLoader:!0,usePopupNav:!0,windowMargin:50}),breakpoints.on("<=xsmall",function(){a[0]._poptrox.windowMargin=0}),breakpoints.on(">xsmall",function(){a[0]._poptrox.windowMargin=50})})(jQuery);